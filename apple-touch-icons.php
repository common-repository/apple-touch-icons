<?php/** * Plugin Name: Apple Touch Icons * Plugin URI: http://www.juanvt.com/ * Description: Sets the Apple Touch Icons for iPhone, iPhone Retina, iPad and iPad Retina for your web. * Version: 1.0 * Author: Juan Viñas * Author URI: http://www.juanvt.com/ *  * License: GPLv2 or Later    Copyright (C) 2014, Juanvt.com    This program is free software: you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation, either version 2 of the License, or    (at your option) any later version.    This program is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.    You should have received a copy of the GNU General Public License    along with this program.  If not, see <http://www.gnu.org/licenses/>.    ---        (Esta traducción es meramente informativa y carece de validez legal:)        Este programa es software libre. Puede redistribuirlo y/o modificarlo bajo     los términos de la Licencia Pública General de GNU según es publicada por la     Fundación para el Software Libre, bien de la versión 2 de dicha Licencia o     bien (según su elección) de cualquier versión posterior.    Este programa se distribuye con la esperanza de que sea útil, pero SIN NINGUNA     GARANTÍA, incluso sin la garantía MERCANTIL implícita o sin garantizar la     CONVENIENCIA PARA UN PROPÓSITO PARTICULAR. Véase la Licencia Pública General de     GNU para más detalles.    Debería haber recibido una copia de la Licencia Pública General junto con este     programa. Si no ha sido así, visite <http://www.gnu.org/licenses/>. */  // Configuración de lenguajefunction appti_language_init(){    load_plugin_textdomain('appti', false, dirname( plugin_basename( __FILE__ ) ) . "/lang/" );}add_action("init","appti_language_init");// Creamos cuatro nuevas opciones function appti_register_settings(){    register_setting("appti-settings","appti_iphone_icon");    register_setting("appti-settings","appti_ipad_icon");    register_setting("appti-settings","appti_iphone_retina_icon");    register_setting("appti-settings","appti_ipad_retina_icon");} add_action("admin_init","appti_register_settings");// Establecemos una nueva página en Ajustesfunction appti_menu_page(){    add_options_page( "Apple Touch Icons", "Apple Touch Icons", "manage_options", "apple-touch-icons", "appti_options_page");}add_action("admin_menu","appti_menu_page");// Formulario de subida de iconos function appti_options_page(){    include_once("inc/form.php");} // jQuery para habilitar el Media Uploaderfunction appti_admin_scripts() {    wp_enqueue_media();    wp_register_script('appti-admin-js', WP_PLUGIN_URL.'/apple-touch-icons/js/admin.js', array('jquery'));    wp_enqueue_script('appti-admin-js');}add_action('admin_enqueue_scripts', 'appti_admin_scripts');// Mostramos los iconos function appti_show_icons(){    ?>        <?php if(get_option("appti_iphone_icon") != ""){ ?><link rel="apple-touch-icon" href="<?php echo get_option("appti_iphone_icon");?>"><?php } ?>        <?php if(get_option("appti_ipad_icon") != ""){ ?><link rel="apple-touch-icon" sizes="76x76" href="<?php echo get_option("appti_ipad_icon");?>"><?php } ?>        <?php if(get_option("appti_iphone_retina_icon") != ""){ ?><link rel="apple-touch-icon" sizes="120x120" href="<?php echo get_option("appti_iphone_retina_icon");?>"><?php } ?>        <?php if(get_option("appti_ipad_retina_icon") != ""){ ?><link rel="apple-touch-icon" sizes="152x152" href="<?php echo get_option("appti_ipad_retina_icon");?>"><?php } ?>    <?php} add_action("wp_head","appti_show_icons");   ?>